<section id="todos" class="container pb-5" data-controller="todos" data-reflex-root>
	<div class="row">
		<div class="col">
			<p id="notice"><%= notice %></p>

			<div class="row">
				<div class="col-12 mt-5 mb-5">
					<%= render 'form', todo: @todo %>
				</div>
			</div>

			<div class="row">
				<div class="col-12 mb-3">
					<span class="connection-status" data-reflex-permanent>
						<i class="fas fa-times-circle fa-2x disconnected"></i>
						<i class="fas fa-check-circle fa-2x connected"></i>
					</span>
					<h4 class="main-title">Your Todos</h4>
				</div>

				<div class="col-12" data-controller="drag" data-drag-url="/todos/:id/move">
			  	<% if @todos.incomplete.any? %>
			    	<% @todos.incomplete.positioned.each do |todo| %>
			    	  <%= render "todo", todo: todo %>
			    	<% end %>
			    <% end %>
				</div>

				<% if @todos.complete.any? %>
					<div class="col-12 mt-3">
						<hr class="dashed mb-3" />
					</div>

					<div class="col-12">
						<% @todos.complete.alphabetical.each do |todo| %>
						  <%= render "todo", todo: todo %>
						<% end %>
					</div>
				<% end %>
			</div>
		</div>
	</div>
</section>
